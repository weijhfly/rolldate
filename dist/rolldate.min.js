/**
 * Rolldate 3.1.3
 * Copyright 2018-2023
 * weijhfly https://github.com/weijhfly/rolldate
 * Licensed under MIT
 * Released on: aug 4, 2018
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Rolldate=e()}(this,function(){"use strict";!function(t,e){void 0===e&&(e={});var o=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}(".rolldate-container{font-size:20px;color:#333;text-align:center}.rolldate-container ul{margin:0;padding:0}.rolldate-container li{list-style-type:none}.rolldate-container header{position:relative;line-height:60px;font-size:18px;border-bottom:1px solid #e0e0e0}.rolldate-container .rolldate-mask{position:fixed;width:100%;height:100%;top:0;left:0;z-index:999;background-color:rgba(37,38,45,.4)}.rolldate-container .rolldate-panel{position:fixed;bottom:0;left:0;width:100%;height:273px;z-index:1000;background:#fff;-webkit-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;-webkit-transform:translate3d(0,273px,0);transform:translate3d(0,273px,0)}.rolldate-container .rolldate-btn{position:absolute;left:0;top:0;height:100%;padding:0 15px;color:#666;font-size:16px;cursor:pointer;-webkit-tap-highlight-color:transparent}.rolldate-container .rolldate-confirm{left:auto;right:0;color:#007bff}.rolldate-container .rolldate-content{position:relative;top:20px}.rolldate-container .rolldate-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.rolldate-container .rolldate-wrapper>div{-webkit-box-flex:1;-ms-flex:1;flex:1;height:173px;line-height:36px;overflow:hidden;-ms-flex-preferred-size:-8e;flex-basis:-8e;width:1%}.rolldate-container .rolldate-wrapper ul{margin-top:68px}.rolldate-container .rolldate-wrapper li{height:36px}.rolldate-container .rolldate-dim{position:absolute;left:0;top:0;width:100%;height:68px;background:-o-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-webkit-gradient(linear, left bottom, left top, from(hsla(0, 0%, 100%, 0.4)), to(hsla(0, 0%, 100%, 0.8)));background:-o-linear-gradient(bottom, hsla(0, 0%, 100%, 0.4), hsla(0, 0%, 100%, 0.8));background:linear-gradient(0deg,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));pointer-events:none;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10}.rolldate-container .mask-top{border-bottom:1px solid #ebebeb}.rolldate-container .mask-bottom{top:auto;bottom:1px;border-top:1px solid #ebebeb}.rolldate-container .fadeIn{-webkit-transform:translateZ(0);transform:translateZ(0)}.rolldate-container .fadeOut{-webkit-transform:translate3d(0,273px,0);transform:translate3d(0,273px,0)}@media screen and (max-width:414px){.rolldate-container{font-size:18px}}@media screen and (max-width:320px){.rolldate-container{font-size:15px}}");var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)};function o(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var p=function(){return(p=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function u(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i}var s=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function a(t){console.error("[BScroll warn]: "+t)}var n="undefined"!=typeof window,r=n&&navigator.userAgent.toLowerCase(),t=!(!r||!/wechatdevtools/.test(r)),e=r&&0<r.indexOf("android"),l=function(){if("string"!=typeof r)return!1;var t=/os (\d\d?_\d(_\d)?)/.exec(r);if(!t)return!1;var e=t[1].split("_").map(function(t){return parseInt(t,10)});return!!(13===e[0]&&4<=e[1])}(),h=!1;if(n){try{var c={};Object.defineProperty(c,"passive",{get:function(){h=!0}}),window.addEventListener("test-passive",function(){},c)}catch(t){}}function d(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var f=function(t,e){for(var o in e)t[o]=e[o];return t};function v(t){return null==t}function m(t,e,o){return t<e?e:o<t?o:t}var y=n&&document.createElement("div").style,g=function(){if(!n)return!1;for(var t=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];t<e.length;t++){var o=e[t];if(void 0!==y[o.value])return o.key}return!1}();function k(t){return!1===g?t:"standard"===g?"transitionEnd"===t?"transitionend":t:g+t.charAt(0).toUpperCase()+t.substr(1)}function T(t){return"string"==typeof t?document.querySelector(t):t}function w(t,e,o,i){var n=h?{passive:!1,capture:!!i}:!!i;t.addEventListener(e,o,n)}function b(t,e,o,i){t.removeEventListener(e,o,{capture:!!i})}function S(t){t.cancelable&&t.preventDefault()}function x(t){for(var e=0,o=0;t;)e-=t.offsetLeft,o-=t.offsetTop,t=t.offsetParent;return{left:e,top:o}}g&&"standard"!==g&&g.toLowerCase();var P=k("transform"),D=k("transition"),E=n&&k("perspective")in y,M=n&&("ontouchstart"in window||t),Y=n&&D in y,B={transform:P,transition:D,transitionTimingFunction:k("transitionTimingFunction"),transitionDuration:k("transitionDuration"),transitionDelay:k("transitionDelay"),transformOrigin:k("transformOrigin"),transitionEnd:k("transitionEnd"),transitionProperty:k("transitionProperty")},C={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function X(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function O(t,e){for(var o in e)if(e[o].test(t[o]))return!0;return!1}var L=O;function H(t,e){var o;void 0===e&&(e="click"),"mouseup"===t.type?o=t:"touchend"!==t.type&&"touchcancel"!==t.type||(o=t.changedTouches[0]);var i,n={};o&&(n.screenX=o.screenX||0,n.screenY=o.screenY||0,n.clientX=o.clientX||0,n.clientY=o.clientY||0);var r=!0,s=!0,a={ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey};if("undefined"!=typeof MouseEvent)try{i=new MouseEvent(e,f(p({bubbles:r,cancelable:s},a),n))}catch(t){l()}else l();function l(){(i=document.createEvent("Event")).initEvent(e,r,s),f(i,n)}i.forwardedTouchEvent=!0,i._constructed=!0,t.target.dispatchEvent(i)}var I={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},A=n&&window;function z(){}var F=n?A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||1e3/60)}:z,W=n?A.cancelAnimationFrame||A.webkitCancelAnimationFrame||A.mozCancelAnimationFrame||A.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:z,j=function(t){},K={enumerable:!0,configurable:!0,get:j,set:j};var R=function(){function t(t){this.events={},this.eventTypes={},this.registerType(t)}return t.prototype.on=function(t,e,o){return void 0===o&&(o=this),this.hasType(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},t.prototype.once=function(i,n,r){var s=this;void 0===r&&(r=this),this.hasType(i);var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.off(i,a);var o=n.apply(r,t);if(!0===o)return o};return a.fn=n,this.on(i,a),this},t.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this.hasType(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var i=o.length;i--;)(o[i][0]===e||o[i][0]&&o[i][0].fn===e)&&o.splice(i,1);return this}},t.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.hasType(t);var i=this.events[t];if(i)for(var n,r=i.length,s=u(i),a=0;a<r;a++){var l=s[a],h=l[0],c=l[1];if(h&&!0===(n=h.apply(c,e)))return n}},t.prototype.registerType=function(t){var e=this;t.forEach(function(t){e.eventTypes[t]=t})},t.prototype.destroy=function(){this.events={},this.eventTypes={}},t.prototype.hasType=function(t){var e=this.eventTypes;e[t]===t||a('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+Object.keys(e).map(function(t){return JSON.stringify(t)})+"]")},t}(),N=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(w)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(b)},t.prototype.handleDOMEvents=function(e){var o=this,i=this.wrapper;this.events.forEach(function(t){e(i,t.name,o,!!t.capture)})},t.prototype.handleEvent=function(e){var o=e.type;this.events.some(function(t){return t.name===o&&(t.handler(e),!0)})},t}(),_=function(e){function t(){var t=e.call(this)||this;return t.startX=0,t.startY=0,t.scrollX=!1,t.scrollY=!0,t.freeScroll=!1,t.directionLockThreshold=0,t.eventPassthrough="",t.click=!1,t.dblclick=!1,t.tap="",t.bounce={top:!0,bottom:!0,left:!0,right:!0},t.bounceTime=800,t.momentum=!0,t.momentumLimitTime=300,t.momentumLimitDistance=15,t.swipeTime=2500,t.swipeBounceTime=500,t.deceleration=.0015,t.flickLimitTime=200,t.flickLimitDistance=100,t.resizePolling=60,t.probeType=0,t.stopPropagation=!1,t.preventDefault=!0,t.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},t.tagException={tagName:/^TEXTAREA$/},t.HWCompositing=!0,t.useTransition=!0,t.bindToWrapper=!1,t.bindToTarget=!1,t.disableMouse=M,t.disableTouch=!M,t.autoBlur=!0,t.autoEndDistance=5,t.outOfBoundaryDampingFactor=1/3,t.specifiedIndexAsContent=0,t.quadrant=1,t}return o(t,e),t.prototype.merge=function(t){if(!t)return this;for(var e in t)"bounce"!==e?this[e]=t[e]:this.bounce=this.resolveBounce(t[e]);return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&E?" translateZ(1px)":"",this.useTransition=this.useTransition&&Y,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX="horizontal"!==this.eventPassthrough&&this.scrollX,this.scrollY="vertical"!==this.eventPassthrough&&this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=!!this.freeScroll||this.scrollX,this.scrollY=!!this.freeScroll||this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t.prototype.resolveBounce=function(t){var e={top:!0,right:!0,bottom:!0,left:!0};return"object"==typeof t?f(e,t):t?e:{top:!1,right:!1,bottom:!1,left:!1}},t}(function(){}),V=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new R(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return t.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,o=t.disableMouse,i=t.disableTouch,n=t.click,r=this.wrapper,s=e?r:window,a=[],l=[],h=!i,c=!o;n&&a.push({name:"click",handler:this.click.bind(this),capture:!0}),h&&(a.push({name:"touchstart",handler:this.start.bind(this)}),l.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),c&&(a.push({name:"mousedown",handler:this.start.bind(this)}),l.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new N(r,a),this.targetEventRegister=new N(s,l)},t.prototype.beforeHandler=function(t,e){var o=this.options,i=o.preventDefault,n=o.stopPropagation,r=o.preventDefaultException;({start:function(){return i&&!O(t.target,r)},end:function(){return i&&!O(t.target,r)},move:function(){return i}})[e]()&&t.preventDefault(),n&&t.stopPropagation()},t.prototype.setInitiated=function(t){void 0===t&&(t=0),this.initiated=t},t.prototype.start=function(t){var e=C[t.type];if(!this.initiated||this.initiated===e)if(this.setInitiated(e),L(t.target,this.options.tagException))this.setInitiated();else if((2!==e||0===t.button)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)){this.beforeHandler(t,"start");var o=t.touches?t.touches[0]:t;this.pointX=o.pageX,this.pointY=o.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}},t.prototype.move=function(t){if(C[t.type]===this.initiated){this.beforeHandler(t,"move");var e=t.touches?t.touches[0]:t,o=e.pageX-this.pointX,i=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:o,deltaY:i,e:t})){var n=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,r=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,s=this.pointX-n,a=this.pointY-r,l=this.options.autoEndDistance;(s>document.documentElement.clientWidth-l||a>document.documentElement.clientHeight-l||s<l||a<l)&&this.end(t)}}},t.prototype.end=function(t){C[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t,"end"),this.hooks.trigger(this.hooks.eventTypes.end,t))},t.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},t.prototype.setContent=function(t){t!==this.wrapper&&(this.wrapper=t,this.rebindDOMEvents())},t.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},t.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},t}(),q={x:["translateX","px"],y:["translateY","px"]},U=function(){function t(t){this.setContent(t),this.hooks=new R(["beforeTranslate","translate"])}return t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null)[B.transform].split(")")[0].split(", ");return{x:+(t[12]||t[4])||0,y:+(t[13]||t[5])||0}},t.prototype.translate=function(n){var r=[];Object.keys(n).forEach(function(t){if(q[t]){var e=q[t][0];if(e){var o=q[t][1],i=n[t];r.push(e+"("+i+o+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,r,n),this.style[B.transform]=r.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,n)},t.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),Z=function(){function t(t,e,o){this.translater=e,this.options=o,this.timer=0,this.hooks=new R(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(t)}return t.prototype.translate=function(t){this.translater.translate(t)},t.prototype.setPending=function(t){this.pending=t},t.prototype.setForceStopped=function(t){this.forceStopped=t},t.prototype.setCallStop=function(t){this.callStopWhenPending=t},t.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style,this.stop())},t.prototype.clearTimer=function(){this.timer&&(W(this.timer),this.timer=0)},t.prototype.destroy=function(){this.hooks.destroy(),W(this.timer)},t}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.startProbe=function(c,p){var u=this,d=c,f=function(){var t,e,o,i,n,r,s,a,l,h=u.translater.getComputedPosition();t=c,o=h,i=d,r=(n=function(t,e){var o=t-e;return 0<o?-1:o<0?1:0})((e=p).x,t.x),s=n(e.y,t.y),a=o.x-i.x,l=o.y-i.y,r*a<=0&&s*l<=0&&u.hooks.trigger(u.hooks.eventTypes.move,h),u.pending||(u.callStopWhenPending?u.callStopWhenPending=!1:u.hooks.trigger(u.hooks.eventTypes.end,h)),d=h,u.pending&&(u.timer=F(f))};this.callStopWhenPending&&this.setCallStop(!1),W(this.timer),f()},e.prototype.transitionTime=function(t){void 0===t&&(t=0),this.style[B.transitionDuration]=t+"ms",this.hooks.trigger(this.hooks.eventTypes.time,t)},e.prototype.transitionTimingFunction=function(t){this.style[B.transitionTimingFunction]=t,this.hooks.trigger(this.hooks.eventTypes.timeFunction,t)},e.prototype.transitionProperty=function(){this.style[B.transitionProperty]=B.transform},e.prototype.move=function(t,e,o,i){this.setPending(0<o),this.transitionTimingFunction(i),this.transitionProperty(),this.transitionTime(o),this.translate(e);var n=3===this.options.probeType;o&&n&&this.startProbe(t,e),o||(this._reflow=this.content.offsetHeight,n&&this.hooks.trigger(this.hooks.eventTypes.move,e),this.hooks.trigger(this.hooks.eventTypes.end,e))},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),W(this.timer);var e=this.translater.getComputedPosition(),o=e.x,i=e.y;this.transitionTime(),this.translate({x:o,y:i}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:o,y:i})}return t},e.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(Z),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.move=function(t,e,o,i){if(!o)return this.translate(e),3===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.move,e),void this.hooks.trigger(this.hooks.eventTypes.end,e);this.animate(t,e,o,i)},e.prototype.animate=function(r,s,e,o){var a=this,l=d(),h=l+e,c=3===this.options.probeType,p=function(){var t=d();if(h<=t)return a.translate(s),c&&a.hooks.trigger(a.hooks.eventTypes.move,s),void a.hooks.trigger(a.hooks.eventTypes.end,s);var i=o(t=(t-l)/e),n={};Object.keys(s).forEach(function(t){var e=r[t],o=s[t];n[t]=(o-e)*i+e}),a.translate(n),c&&a.hooks.trigger(a.hooks.eventTypes.move,n),a.pending&&(a.timer=F(p)),a.pending||(a.callStopWhenPending?a.callStopWhenPending=!1:a.hooks.trigger(a.hooks.eventTypes.end,s))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),W(this.timer),p()},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),W(this.timer);var e=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,e)}return t},e.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(Z);var J,Q,tt,et,ot=function(){function t(t,e,o){this.wrapper=t,this.options=o,this.hooks=new R(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(e)}return t.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},t.prototype.move=function(t){return t=this.hasScroll?t:0,this.setMovingDirection(t),this.performDampingAlgorithm(t,this.options.outOfBoundaryDampingFactor)},t.prototype.setMovingDirection=function(t){this.movingDirection=0<t?-1:t<0?1:0},t.prototype.setDirection=function(t){this.direction=0<t?-1:t<0?1:0},t.prototype.performDampingAlgorithm=function(t,e){var o=this.currentPos+t;return(o>this.minScrollPos||o<this.maxScrollPos)&&(o=o>this.minScrollPos&&this.options.bounces[0]||o<this.maxScrollPos&&this.options.bounces[1]?this.currentPos+t*e:o>this.minScrollPos?this.minScrollPos:this.maxScrollPos),o},t.prototype.end=function(t){var e={duration:0},o=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&o>this.options.momentumLimitDistance){var i=-1===this.direction&&this.options.bounces[0]||1===this.direction&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,i,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},t.prototype.momentum=function(t,e,o,i,n,r,s){void 0===s&&(s=this.options);var a=t-e,l=Math.abs(a)/o,h=s.deceleration,c=s.swipeBounceTime,p=s.swipeTime,u={destination:t+l*l/h*(a<0?-1:1),duration:Math.min(p,2*l/h),rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,u,a),u.destination<i?(u.destination=r?Math.max(i-r/4,i-r/u.rate*l):i,u.duration=c):u.destination>n&&(u.destination=r?Math.min(n+r/4,n+r/u.rate*l):n,u.duration=c),u.destination=Math.round(u.destination),u},t.prototype.updateDirection=function(){var t=this.currentPos-this.absStartPos;this.setDirection(t)},t.prototype.refresh=function(t){var e=this.options.rect,o=e.size,i=e.position,n="static"===window.getComputedStyle(this.wrapper,null).position,r=X(this.wrapper);this.wrapperSize=this.wrapper["width"===o?"clientWidth":"clientHeight"],this.setContent(t);var s=X(this.content);this.contentSize=s[o],this.relativeOffset=s[i],n&&(this.relativeOffset-=r[i]),this.computeBoundary(),this.setDirection(0)},t.prototype.setContent=function(t){t!==this.content&&(this.content=t,this.resetState())},t.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},t.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var t={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};t.maxScrollPos<0&&(t.maxScrollPos-=this.relativeOffset,0===this.options.specifiedIndexAsContent&&(t.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,t),this.minScrollPos=t.minScrollPos,this.maxScrollPos=t.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},t.prototype.updatePosition=function(t){this.currentPos=t},t.prototype.getCurrentPos=function(){return this.currentPos},t.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos);return{position:t,inBoundary:t===this.getCurrentPos()}},t.prototype.adjustPosition=function(t){return this.hasScroll||this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?t>this.minScrollPos?t=this.minScrollPos:t<this.maxScrollPos&&(t=this.maxScrollPos):t=this.minScrollPos,t},t.prototype.updateStartPos=function(){this.startPos=this.currentPos},t.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},t.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},t.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),it=((J={}).yes=function(t){return!0},J.no=function(t){return S(t),!1},J),nt=((Q={}).horizontal=((tt={}).yes="horizontal",tt.no="vertical",tt),Q.vertical=((et={}).yes="vertical",et.no="horizontal",et),Q),rt=function(){function t(t,e,o){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=o,this.reset()}return t.prototype.reset=function(){this.directionLocked=""},t.prototype.checkMovingDirection=function(t,e,o){return this.computeDirectionLock(t,e),this.handleEventPassthrough(o)},t.prototype.adjustDelta=function(t,e){return"horizontal"===this.directionLocked?e=0:"vertical"===this.directionLocked&&(t=0),{deltaX:t,deltaY:e}},t.prototype.computeDirectionLock=function(t,e){""!==this.directionLocked||this.freeScroll||(t>e+this.directionLockThreshold?this.directionLocked="horizontal":e>=t+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},t.prototype.handleEventPassthrough=function(t){var e=nt[this.directionLocked];if(e){if(this.eventPassthrough===e.yes)return it.yes(t);if(this.eventPassthrough===e.no)return it.no(t)}return!1},t}(),st=function(){function t(t,e,o,i,n){this.hooks=new R(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=o,this.animater=i,this.options=n,this.directionLockAction=new rt(n.directionLockThreshold,n.freeScroll,n.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return t.prototype.bindActionsHandler=function(){var h=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(t){return!h.enabled||h.handleStart(t)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(t){var e=t.deltaX,o=t.deltaY,i=t.e;if(!h.enabled)return!0;var n,r,s,a=(n=e,r=o,2===(s=h.options.quadrant)?[r,-n]:3===s?[-n,-r]:4===s?[-r,n]:[n,r]),l={deltaX:a[0],deltaY:a[1]};return h.hooks.trigger(h.hooks.eventTypes.coordinateTransformation,l),h.handleMove(l.deltaX,l.deltaY,i)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(t){return!h.enabled||h.handleEnd(t)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(t){h.enabled&&!t._constructed&&h.handleClick(t)})},t.prototype.handleStart=function(t){var e=d();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},t.prototype.handleMove=function(t,e,o){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,o)){var i=this.scrollBehaviorX.getAbsDist(t),n=this.scrollBehaviorY.getAbsDist(e),r=d();if(this.checkMomentum(i,n,r))return!0;if(this.directionLockAction.checkMovingDirection(i,n,o))return this.actionsHandler.setInitiated(),!0;var s=this.directionLockAction.adjustDelta(t,e),a=this.scrollBehaviorX.getCurrentPos(),l=this.scrollBehaviorX.move(s.deltaX),h=this.scrollBehaviorY.getCurrentPos(),c=this.scrollBehaviorY.move(s.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var p=l!==a||c!==h;this.contentMoved||p||this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&p&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&p&&(this.animater.translate({x:l,y:c}),this.dispatchScroll(r))}}},t.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),1===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),1<this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},t.prototype.checkMomentum=function(t,e,o){return o-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},t.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;e=this.ensureIntegerPos(e),this.animater.translate(e),this.endTime=d();var o=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,o)}},t.prototype.ensureIntegerPos=function(t){this.ensuringInteger=!0;var e=t.x,o=t.y,i=this.scrollBehaviorX,n=i.minScrollPos,r=i.maxScrollPos,s=this.scrollBehaviorY,a=s.minScrollPos,l=s.maxScrollPos;return e=0<e?Math.ceil(e):Math.floor(e),o=0<o?Math.ceil(o):Math.floor(o),{x:e=m(e,r,n),y:o=m(o,l,a)}},t.prototype.handleClick=function(t){O(t.target,this.options.preventDefaultException)||(S(t),t.stopPropagation())},t.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},t.prototype.refresh=function(){this.endTime=0},t.prototype.destroy=function(){this.hooks.destroy()},t}();function at(o,t,e,i){var n=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce(function(t,e){return t[e]=o[e],t},{});return n.scrollable=!!o[t],n.bounces=e,n.rect=i,n}function lt(i,n,t){t.forEach(function(t){var e,o;"string"==typeof t?e=o=t:(e=t.source,o=t.target),i.on(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.trigger.apply(n,u([o],t))})})}var ht=function(){function t(t,e,o){this.wrapper=t,this.content=e,this.resizeTimeout=0,this.hooks=new R(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=o;var i,n,r,s,a,l,h=this.options.bounce,c=h.left,p=h.right,u=h.top,d=h.bottom;this.scrollBehaviorX=new ot(t,e,at(o,"scrollX",[c,p],{size:"width",position:"left"})),this.scrollBehaviorY=new ot(t,e,at(o,"scrollY",[u,d],{size:"height",position:"top"})),this.translater=new U(this.content),this.animater=(i=this.content,n=this.translater,r=this.options,s=r.useTransition,a={},Object.defineProperty(a,"probeType",{enumerable:!0,configurable:!1,get:function(){return r.probeType}}),s?new $(i,n,a):new G(i,n,a)),this.actionsHandler=new V(this.options.bindToTarget?this.content:t,(l=this.options,["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce(function(t,e){return t[e]=l[e],t},{}))),this.actions=new st(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var f=this.resize.bind(this);this.resizeRegister=new N(window,[{name:"orientationchange",handler:f},{name:"resize",handler:f}]),this.registerTransitionEnd(),this.init()}return t.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){t.togglePointerEvents(!0)})},t.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new N(this.content,[{name:B.transitionEnd,handler:this.transitionEnd.bind(this)}])},t.prototype.bindTranslater=function(){var o=this,t=this.translater.hooks;t.on(t.eventTypes.beforeTranslate,function(t){o.options.translateZ&&t.push(o.options.translateZ)}),t.on(t.eventTypes.translate,function(t){var e=o.getCurrentPos();o.updatePositions(t),!0!==o.actions.ensuringInteger?t.x===e.x&&t.y===e.y||o.togglePointerEvents(!1):o.actions.ensuringInteger=!1})},t.prototype.bindAnimater=function(){var e=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(t){e.resetPosition(e.options.bounceTime)||(e.animater.setPending(!1),e.hooks.trigger(e.hooks.eventTypes.scrollEnd,t))}),lt(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},t.prototype.bindActions=function(){var n=this,r=this.actions;lt(r.hooks,this.hooks,[{source:r.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:r.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:r.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:r.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:r.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:r.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),r.hooks.on(r.hooks.eventTypes.end,function(t,e){return n.hooks.trigger(n.hooks.eventTypes.touchEnd,e),!!n.hooks.trigger(n.hooks.eventTypes.end,e)||(!(r.fingerMoved||(n.hooks.trigger(n.hooks.eventTypes.scrollCancel),!n.checkClick(t)))||(n.resetPosition(n.options.bounceTime,I.bounce)?(n.animater.setForceStopped(!1),!0):void 0))}),r.hooks.on(r.hooks.eventTypes.scrollEnd,function(t,e){var o=Math.abs(t.x-n.scrollBehaviorX.startPos),i=Math.abs(t.y-n.scrollBehaviorY.startPos);if(n.checkFlick(e,o,i))return n.animater.setForceStopped(!1),void n.hooks.trigger(n.hooks.eventTypes.flick);n.momentum(t,e)?n.animater.setForceStopped(!1):(r.contentMoved&&n.hooks.trigger(n.hooks.eventTypes.scrollEnd,t),n.animater.forceStopped&&n.animater.setForceStopped(!1))})},t.prototype.checkFlick=function(t,e,o){if(1<this.hooks.events.flick.length&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance&&(1<o||1<e))return!0},t.prototype.momentum=function(t,e){var o={time:0,easing:I.swiper,newX:t.x,newY:t.y},i=this.scrollBehaviorX.end(e),n=this.scrollBehaviorY.end(e);if(o.newX=v(i.destination)?o.newX:i.destination,o.newY=v(n.destination)?o.newY:n.destination,o.time=Math.max(i.duration,n.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,o,this),o.newX!==t.x||o.newY!==t.y)return(o.newX>this.scrollBehaviorX.minScrollPos||o.newX<this.scrollBehaviorX.maxScrollPos||o.newY>this.scrollBehaviorY.minScrollPos||o.newY<this.scrollBehaviorY.maxScrollPos)&&(o.easing=I.swipeBounce),this.scrollTo(o.newX,o.newY,o.time,o.easing),!0},t.prototype.checkClick=function(t){var e,o,i,n=this.animater.forceStopped;if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(n)return!1;var r=this.options.dblclick,s=!1;if(r&&this.lastClickTime){var a=r.delay,l=void 0===a?300:a;d()-this.lastClickTime<l&&(s=!0,H(t,"dblclick"))}return this.options.tap&&(e=t,o=this.options.tap,(i=document.createEvent("Event")).initEvent(o,!0,!0),i.pageX=e.pageX,i.pageY=e.pageY,e.target.dispatchEvent(i)),this.options.click&&!O(t.target,this.options.preventDefaultException)&&H(t),this.lastClickTime=s?null:d(),!0},t.prototype.resize=function(){var t=this;this.actions.enabled&&(e&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){t.hooks.trigger(t.hooks.eventTypes.resize)},this.options.resizePolling))},t.prototype.transitionEnd=function(t){t.target===this.content&&this.animater.pending&&(this.animater.transitionTime(),this.resetPosition(this.options.bounceTime,I.bounce)||(this.animater.setPending(!1),3!==this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos())))},t.prototype.togglePointerEvents=function(t){void 0===t&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],o=t?"auto":"none",i=0;i<e.length;i++){var n=e[i];n.isBScrollContainer||(n.style.pointerEvents=o)}},t.prototype.refresh=function(t){var e=this.setContent(t);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(t),this.scrollBehaviorY.refresh(t),e&&(this.translater.setContent(t),this.animater.setContent(t),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(t)),this.actions.refresh(),this.wrapperOffset=x(this.wrapper)},t.prototype.setContent=function(t){var e=t!==this.content;return e&&(this.content=t),e},t.prototype.scrollBy=function(t,e,o,i){void 0===o&&(o=0);var n=this.getCurrentPos(),r=n.x,s=n.y;i=i||I.bounce,t+=r,e+=s,this.scrollTo(t,e,o,i)},t.prototype.scrollTo=function(t,e,o,i,n){void 0===o&&(o=0),void 0===i&&(i=I.bounce),void 0===n&&(n={start:{},end:{}});var r=this.options.useTransition?i.style:i.fn,s=this.getCurrentPos(),a=p({x:s.x,y:s.y},n.start),l=p({x:t,y:e},n.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,l),!function(t,e){for(var o=0,i=Object.keys(t);o<i.length;o++){var n=i[o];if(t[n]!==e[n])return!1}return!0}(a,l)){var h=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y);h<1&&c<1&&(o=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(a,l,o,r)}},t.prototype.scrollToElement=function(t,e,o,i,n){var r=T(t),s=x(r),a=function(t,e,o){return"number"==typeof t?t:t?Math.round(e/2-o/2):0};o=a(o,r.offsetWidth,this.wrapper.offsetWidth),i=a(i,r.offsetHeight,this.wrapper.offsetHeight);var l=function(t,e,o,i){return t-=e,t=i.adjustPosition(t-o)};s.left=l(s.left,this.wrapperOffset.left,o,this.scrollBehaviorX),s.top=l(s.top,this.wrapperOffset.top,i,this.scrollBehaviorY),this.hooks.trigger(this.hooks.eventTypes.scrollToElement,r,s)||this.scrollTo(s.left,s.top,e,n)},t.prototype.resetPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=I.bounce);var o=this.scrollBehaviorX.checkInBoundary(),i=o.position,n=o.inBoundary,r=this.scrollBehaviorY.checkInBoundary(),s=r.position,a=r.inBoundary;return(!n||!a)&&(l&&this.reflow(),this.scrollTo(i,s,t,e),!0)},t.prototype.reflow=function(){this._reflow=this.content.offsetHeight},t.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},t.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},t.prototype.enable=function(){this.actions.enabled=!0},t.prototype.disable=function(){W(this.animater.timer),this.actions.enabled=!1},t.prototype.destroy=function(){var e=this;["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"].forEach(function(t){return e[t].destroy()})},t}(),ct=function(n){function r(t,e){var o=n.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,i=T(t);return i?(o.plugins={},o.options=(new _).merge(e).process(),o.setContent(i).valid&&(o.hooks=new R(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),o.init(i)),o):(a("Can not resolve the wrapper DOM."),o)}return o(r,n),r.use=function(e){var t=e.pluginName;return r.plugins.some(function(t){return e===t.ctor})||(v(t)?a("Plugin Class must specify plugin's name in static property by 'pluginName' field."):(r.pluginsMap[t]=!0,r.plugins.push({name:t,applyOrder:e.applyOrder,ctor:e}))),r},r.prototype.setContent=function(t){var e=!1,o=!0,i=t.children[this.options.specifiedIndexAsContent];return i?(e=this.content!==i)&&(this.content=i):(a("The wrapper need at least one child element to be content element to scroll."),o=!1),{valid:o,contentChanged:e}},r.prototype.init=function(t){var e=this;(this.wrapper=t).isBScrollContainer=!0,this.scroller=new ht(t,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,function(){e.refresh()}),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(s),this.applyPlugins(),this.refreshWithoutReset(this.content);var o=this.options,i={x:o.startX,y:o.startY};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,i)||this.scroller.scrollTo(i.x,i.y)},r.prototype.applyPlugins=function(){var o=this,i=this.options;r.plugins.sort(function(t,e){var o,i=((o={}).pre=-1,o.post=1,o);return(t.applyOrder?i[t.applyOrder]:0)-(e.applyOrder?i[e.applyOrder]:0)}).forEach(function(t){var e=t.ctor;i[t.name]&&"function"==typeof e&&(o.plugins[t.name]=new e(o))})},r.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},r.prototype.eventBubbling=function(){lt(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},r.prototype.refreshWithoutReset=function(t){this.scroller.refresh(t),this.hooks.trigger(this.hooks.eventTypes.refresh,t),this.trigger(this.eventTypes.refresh,t)},r.prototype.proxy=function(t){var s=this;t.forEach(function(t){var e,o,i,n=t.key,r=t.sourceKey;e=s,o=r,i=n,K.get=function(){return function(t,e){for(var o=e.split("."),i=0;i<o.length-1;i++)if("object"!=typeof(t=t[o[i]])||!t)return;var n=o.pop();return"function"==typeof t[n]?function(){return t[n].apply(t,arguments)}:t[n]}(this,o)},K.set=function(t){!function(t,e,o){for(var i,n=e.split("."),r=0;r<n.length-1;r++)t[i=n[r]]||(t[i]={}),t=t[i];t[n.pop()]=o}(this,o,t)},Object.defineProperty(e,i,K)})},r.prototype.refresh=function(){var t=this.setContent(this.wrapper),e=t.contentChanged;if(t.valid){var o=this.content;this.refreshWithoutReset(o),e&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,o),this.trigger(this.eventTypes.contentChanged,o)),this.scroller.resetPosition()}},r.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},r.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},r.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},r.prototype.eventRegister=function(t){this.registerType(t)},r.plugins=[],r.pluginsMap={},r}(R);function pt(t,e){return new ct(t,e)}pt.use=ct.use,pt.plugins=ct.plugins,pt.pluginsMap=ct.pluginsMap;var ut=pt,dt="undefined"!=typeof window,ft=dt&&navigator.userAgent.toLowerCase();ft&&/wechatdevtools/.test(ft),ft&&ft.indexOf("android"),function(){if("string"!=typeof ft)return;var t=/os (\d\d?_\d(_\d)?)/.exec(ft);if(!t)return;var e=t[1].split("_").map(function(t){return parseInt(t,10)});13===e[0]&&e[1]}();if(dt){try{var vt={};Object.defineProperty(vt,"passive",{get:function(){!0}}),window.addEventListener("test-passive",function(){},vt)}catch(t){}}var mt=dt&&document.createElement("div").style,yt=function(){if(!dt)return!1;for(var t=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];t<e.length;t++){var o=e[t];if(void 0!==mt[o.value])return o.key}return!1}();function gt(t){return!1===yt?t:"standard"===yt?"transitionEnd"===t?"transitionend":t:yt+t.charAt(0).toUpperCase()+t.substr(1)}yt&&"standard"!==yt&&yt.toLowerCase();var kt=gt("transform");gt("transition");dt&&gt("perspective");var Tt=kt,wt=gt("transitionTimingFunction"),bt=gt("transitionDuration");gt("transitionDelay"),gt("transformOrigin"),gt("transitionEnd"),gt("transitionProperty");function St(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}var xt={style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},Pt=[{key:"wheelTo",name:"wheelTo"},{key:"getSelectedIndex",name:"getSelectedIndex"},{key:"restorePosition",name:"restorePosition"}].map(function(t){return{key:t.key,sourceKey:"plugins.wheel."+t.name}}),Dt="wheelIndexChanged",Et=4,Mt=function(){function t(t){this.scroll=t,this.init()}return t.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.refreshBoundary(),this.setSelectedIndex(this.options.selectedIndex)},t.prototype.handleBScroll=function(){this.scroll.proxy(Pt),this.scroll.registerType([Dt])},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.wheel?{}:this.scroll.options.wheel;this.options=function(t,e){for(var o in e)t[o]=e[o];return t}({wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item",rotate:25,adjustTime:400,selectedIndex:0,wheelDisabledItemClass:"wheel-disabled-item"},t)},t.prototype.handleHooks=function(){var o=this,t=this.scroll,i=this.scroll.scroller,e=i.actionsHandler,n=i.scrollBehaviorX,r=i.scrollBehaviorY,s=i.animater,a=i.content;t.on(t.eventTypes.scrollEnd,function(t){var e=o.findNearestValidWheel(t.y).index;if(i.animater.forceStopped&&!o.isAdjustingPosition)return o.target=o.items[e],!0;o.setSelectedIndex(e),o.isAdjustingPosition&&(o.isAdjustingPosition=!1)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh,function(t){t!==a&&(a=t,o.setSelectedIndex(o.options.selectedIndex,!0)),o.rotateX(o.scroll.y),o.wheelTo(o.selectedIndex,0)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(t){t.x=0,t.y=-o.selectedIndex*o.itemHeight}),i.hooks.on(i.hooks.eventTypes.checkClick,function(){var t,e=(t=o.items,Array.prototype.slice.call(t,0)).indexOf(o.target);return-1===e||o.wheelTo(e,o.options.adjustTime,xt),!0}),i.hooks.on(i.hooks.eventTypes.scrollTo,function(t){t.y=o.findNearestValidWheel(t.y).y}),i.hooks.on(i.hooks.eventTypes.minDistanceScroll,function(){var t=i.animater;!0===t.forceStopped&&(t.forceStopped=!1)}),i.hooks.on(i.hooks.eventTypes.scrollToElement,function(t,e){if(!St(t,o.options.wheelItemClass))return!0;e.top=o.findNearestValidWheel(e.top).y}),e.hooks.on(e.hooks.eventTypes.beforeStart,function(t){o.target=t.target}),n.hooks.on(n.hooks.eventTypes.computeBoundary,function(t){t.maxScrollPos=0,t.minScrollPos=0}),r.hooks.on(r.hooks.eventTypes.computeBoundary,function(t){o.items=o.scroll.scroller.content.children,o.checkWheelAllDisabled(),o.itemHeight=0<o.items.length?r.contentSize/o.items.length:0,t.maxScrollPos=-o.itemHeight*(o.items.length-1),t.minScrollPos=0}),r.hooks.on(r.hooks.eventTypes.momentum,function(t){t.rate=Et,t.destination=o.findNearestValidWheel(t.destination).y}),r.hooks.on(r.hooks.eventTypes.end,function(t){var e=o.findNearestValidWheel(r.currentPos);t.destination=e.y,t.duration=o.options.adjustTime}),s.hooks.on(s.hooks.eventTypes.time,function(t){o.transitionDuration(t)}),s.hooks.on(s.hooks.eventTypes.timeFunction,function(t){o.timeFunction(t)}),s.hooks.on(s.hooks.eventTypes.callStop,function(){var t=o.findNearestValidWheel(o.scroll.y).index;o.isAdjustingPosition=!0,o.wheelTo(t,0)}),s.translater.hooks.on(s.translater.hooks.eventTypes.translate,function(t){o.rotateX(t.y)})},t.prototype.refreshBoundary=function(){var t=this.scroll.scroller,e=t.scrollBehaviorX,o=t.scrollBehaviorY,i=t.content;e.refresh(i),o.refresh(i)},t.prototype.setSelectedIndex=function(t,e){void 0===e&&(e=!1),this.selectedIndex===(this.selectedIndex=t)||e||this.scroll.trigger(Dt,t)},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.wheelTo=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0);var i=-t*this.itemHeight;this.scroll.scrollTo(0,i,e,o)},t.prototype.restorePosition=function(){if(this.scroll.pending){var t=this.getSelectedIndex();this.scroll.scroller.animater.clearTimer(),this.wheelTo(t,0)}},t.prototype.transitionDuration=function(t){for(var e=0;e<this.items.length;e++)this.items[e].style[bt]=t+"ms"},t.prototype.timeFunction=function(t){for(var e=0;e<this.items.length;e++)this.items[e].style[wt]=t},t.prototype.rotateX=function(t){for(var e=this.options.rotate,o=void 0===e?25:e,i=0;i<this.items.length;i++){var n=(o*(t/this.itemHeight+i)).toFixed(3);this.items[i].style[Tt]="rotateX("+n+"deg)"}},t.prototype.findNearestValidWheel=function(t){t=0<t?0:t<this.scroll.maxScrollY?this.scroll.maxScrollY:t;for(var e=Math.abs(Math.round(-t/this.itemHeight)),o=e,i=this.items,n=this.options.wheelDisabledItemClass;0<=e&&St(i[e],n);)e--;if(e<0)for(e=o;e<=i.length-1&&St(i[e],n);)e++;return e===i.length&&(e=o),{index:this.wheelItemsAllDisabled?-1:e,y:-e*this.itemHeight}},t.prototype.checkWheelAllDisabled=function(){var t=this.options.wheelDisabledItemClass,e=this.items;this.wheelItemsAllDisabled=!0;for(var o=0;o<e.length;o++)if(!St(e[o],t)){this.wheelItemsAllDisabled=!1;break}},t.pluginName="wheel",t}();var Yt="undefined"!=typeof window,Bt=Yt&&navigator.userAgent.toLowerCase();Bt&&/wechatdevtools/.test(Bt),Bt&&Bt.indexOf("android"),function(){if("string"!=typeof Bt)return;var t=/os (\d\d?_\d(_\d)?)/.exec(Bt);if(!t)return;var e=t[1].split("_").map(function(t){return parseInt(t,10)});13===e[0]&&e[1]}();var Ct=!1;if(Yt){try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ct=!0}}),window.addEventListener("test-passive",function(){},Xt)}catch(t){}}var Ot=Yt&&document.createElement("div").style,Lt=function(){if(!Yt)return!1;for(var t=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];t<e.length;t++){var o=e[t];if(void 0!==Ot[o.value])return o.key}return!1}();function Ht(t){return!1===Lt?t:"standard"===Lt?"transitionEnd"===t?"transitionend":t:Lt+t.charAt(0).toUpperCase()+t.substr(1)}function It(t,e,o,i){var n=Ct?{passive:!1,capture:!!i}:!!i;t.addEventListener(e,o,n)}function At(t,e,o,i){t.removeEventListener(e,o,{capture:!!i})}Lt&&"standard"!==Lt&&Lt.toLowerCase();Ht("transform"),Ht("transition");Yt&&Ht("perspective"),Ht("transitionTimingFunction"),Ht("transitionDuration"),Ht("transitionDelay"),Ht("transformOrigin"),Ht("transitionEnd"),Ht("transitionProperty");var zt=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(It)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(At)},t.prototype.handleDOMEvents=function(e){var o=this,i=this.wrapper;this.events.forEach(function(t){e(i,t.name,o,!!t.capture)})},t.prototype.handleEvent=function(e){var o=e.type;this.events.some(function(t){return t.name===o&&(t.handler(e),!0)})},t}(),Ft=function(){function t(t){this.scroll=t,this.wheelEndTimer=0,this.wheelMoveTimer=0,this.wheelStart=!1,this.init()}return t.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.registerEvent()},t.prototype.handleBScroll=function(){this.scroll.registerType(["alterOptions","mousewheelStart","mousewheelMove","mousewheelEnd"])},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.mouseWheel?{}:this.scroll.options.mouseWheel;this.mouseWheelOpt=function(t,e){for(var o in e)t[o]=e[o];return t}({speed:20,invert:!1,easeTime:300,discreteTime:400,throttleTime:0,dampingFactor:.1},t)},t.prototype.handleHooks=function(){this.hooksFn=[],this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},t.prototype.registerEvent=function(){this.eventRegister=new zt(this.scroll.scroller.wrapper,[{name:"wheel",handler:this.wheelHandler.bind(this)},{name:"mousewheel",handler:this.wheelHandler.bind(this)},{name:"DOMMouseScroll",handler:this.wheelHandler.bind(this)}])},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.wheelHandler=function(t){if(this.scroll.enabled){this.beforeHandler(t),this.wheelStart||(this.wheelStartHandler(t),this.wheelStart=!0);var e=this.getWheelDelta(t);this.wheelMoveHandler(e),this.wheelEndDetector(e)}},t.prototype.wheelStartHandler=function(t){this.cleanCache();var e=this.scroll.scroller,o=e.scrollBehaviorX,i=e.scrollBehaviorY;o.setMovingDirection(0),i.setMovingDirection(0),o.setDirection(0),i.setDirection(0),this.scroll.trigger(this.scroll.eventTypes.alterOptions,this.mouseWheelOpt),this.scroll.trigger(this.scroll.eventTypes.mousewheelStart)},t.prototype.cleanCache=function(){this.deltaCache=[]},t.prototype.wheelMoveHandler=function(t){var e=this,o=this.mouseWheelOpt,i=o.throttleTime,n=o.dampingFactor;if(i&&this.wheelMoveTimer)this.deltaCache.push(t);else{var r=this.deltaCache.reduce(function(t,e){return{x:t.x+e.x,y:t.y+e.y}},{x:0,y:0});this.cleanCache();var s=this.scroll.scroller,a=s.scrollBehaviorX,l=s.scrollBehaviorY;a.setMovingDirection(-t.directionX),l.setMovingDirection(-t.directionY),a.setDirection(t.x),l.setDirection(t.y);var h=a.performDampingAlgorithm(Math.round(t.x)+r.x,n),c=l.performDampingAlgorithm(Math.round(t.y)+r.x,n);if(!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove,{x:h,y:c})){var p=this.getEaseTime();h===this.scroll.x&&c===this.scroll.y||this.scroll.scrollTo(h,c,p)}i&&(this.wheelMoveTimer=window.setTimeout(function(){e.wheelMoveTimer=0},i))}},t.prototype.wheelEndDetector=function(t){var e=this;window.clearTimeout(this.wheelEndTimer),this.wheelEndTimer=window.setTimeout(function(){e.wheelStart=!1,window.clearTimeout(e.wheelMoveTimer),e.wheelMoveTimer=0,e.scroll.trigger(e.scroll.eventTypes.mousewheelEnd,t)},this.mouseWheelOpt.discreteTime)},t.prototype.getWheelDelta=function(t){var e=this.mouseWheelOpt,o=e.speed,i=0,n=0,r=e.invert?-1:1;switch(!0){case"deltaX"in t:n=1===t.deltaMode?(i=-t.deltaX*o,-t.deltaY*o):(i=-t.deltaX,-t.deltaY);break;case"wheelDeltaX"in t:i=t.wheelDeltaX/120*o,n=t.wheelDeltaY/120*o;break;case"wheelDelta"in t:i=n=t.wheelDelta/120*o;break;case"detail"in t:i=n=-t.detail/3*o}return i*=r,n*=r,this.scroll.hasVerticalScroll||(Math.abs(n)>Math.abs(i)&&(i=n),n=0),this.scroll.hasHorizontalScroll||(i=0),{x:i,y:n,directionX:0<i?-1:i<0?1:0,directionY:0<n?-1:n<0?1:0}},t.prototype.beforeHandler=function(t){var e,o=this.scroll.options,i=o.preventDefault,n=o.stopPropagation,r=o.preventDefaultException;i&&!function(t,e){for(var o in e)if(e[o].test(t[o]))return!0;return!1}(t.target,r)&&(e=t).cancelable&&e.preventDefault(),n&&t.stopPropagation()},t.prototype.getEaseTime=function(){var t,e=this.mouseWheelOpt.easeTime;return e<100&&(t="easeTime should be greater than 100.If mouseWheel easeTime is too small,scrollEnd will be triggered many times.",console.error("[BScroll warn]: "+t)),Math.max(e,100)},t.prototype.destroy=function(){this.eventRegister.destroy(),window.clearTimeout(this.wheelEndTimer),window.clearTimeout(this.wheelMoveTimer),this.hooksFn.forEach(function(t){var e=t[0],o=t[1],i=t[2];e.off(o,i)})},t.pluginName="mouseWheel",t.applyOrder="pre",t}();ut.use(Mt),ut.use(Ft);var Wt=function(t,e){return"string"!=typeof t&&t.nodeType?t:e?document.querySelectorAll(t):document.querySelector(t)};function jt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,o=void 0;if(e.extend(t),t.el){if(!(o=Wt(t.el))||o.bindRolldate)return;o.bindRolldate=1,e.tap(o,function(){e.show()})}if(t.value){t.el&&("input"==o.nodeName.toLowerCase()?o.value=t.value:o.innerText=t.value);var i=t.value.replace(/-/g,"/").replace(/[^\d/:\s]/g,""),n=new Date(i);n&&"Invalid Date"!=n?t.el?o.bindDate=n:e.bindDate=n:console.error("Invalid Date"+i)}}return jt.prototype={constructor:jt,baseData:function(){return{domId:{YYYY:"rolldate-year",MM:"rolldate-month",DD:"rolldate-day",hh:"rolldate-hour",mm:"rolldate-min",ss:"rolldate-sec"},opts:{el:"",format:"YYYY-MM-DD",beginYear:1900,endYear:2100,min:null,max:null,init:null,moveEnd:null,confirm:null,cancel:null,minStep:1,trigger:"tap",lang:{title:"",cancel:"",confirm:"",year:"",month:"",day:"",hour:"",min:"",sec:""}}}},extend:function(t){var e=this.baseData().opts;for(var o in e)if(e[o]&&"[object Object]"==Object.prototype.toString.call(e[o]))for(var i in t[o])e[o][i]=null==t[o][i]?e[o][i]:t[o][i];else e[o]=t[o]||e[o];this.config=e},createUI:function(){for(var r=this,t=r.baseData(),s=r.config,a=t.domId,l=s.format.split(/-|\/|\s|:/g),e=l.length,o="",h=s.el?Wt(s.el).bindDate||new Date:r.bindDate||new Date,c=s.lang,i=0;i<e;i++){var n=l[i],p=0;if(o+='<div id="'+a[n]+'"><ul class="wheel-scroll">',"YYYY"==n)for(var u=s.beginYear;u<=s.endYear;u++)o+='<li class="wheel-item '+(u==h.getFullYear()?"active":"")+'" data-index="'+p+'">'+u+c.year+"</li>",p++;else if("MM"==n)for(var d=1;d<=12;d++)o+='<li class="wheel-item '+(d==h.getMonth()+1?"active":"")+'" data-index="'+p+'">'+(d<10?"0"+d:d)+c.month+"</li>",p++;else if("DD"==n)for(var f=r.getMonthlyDay(h.getFullYear(),h.getMonth()+1),v=1;v<=f;v++)o+='<li class="wheel-item '+(v==h.getDate()?"active":"")+'" data-index="'+p+'">'+(v<10?"0"+v:v)+c.day+"</li>",p++;else if("hh"==n)for(var m=0;m<=23;m++)o+='<li class="wheel-item '+(m==h.getHours()?"active":"")+'" data-index="'+p+'">'+(m<10?"0"+m:m)+c.hour+"</li>",p++;else if("mm"==n)for(var y=0;y<=59;y+=s.minStep)o+='<li class="wheel-item '+(y==h.getMinutes()?"active":"")+'" data-index="'+p+'">'+(y<10?"0"+y:y)+c.min+"</li>",p++;else if("ss"==n)for(var g=0;g<=59;g++)o+='<li class="wheel-item '+(g==h.getSeconds()?"active":"")+'" data-index="'+p+'">'+(g<10?"0"+g:g)+c.sec+"</li>",p++;o+="</ul></div>"}var k='<div class="rolldate-mask"></div>\n            <div class="rolldate-panel">\n                <header>\n                    <span class="rolldate-btn rolldate-cancel">'+c.cancel+"</span>\n                    "+c.title+'\n                    <span class="rolldate-btn rolldate-confirm">'+c.confirm+'</span>\n                </header>\n                <section class="rolldate-content">\n                    <div class="rolldate-dim mask-top"></div>\n                    <div class="rolldate-dim mask-bottom"></div>\n                    <div class="rolldate-wrapper">\n                        '+o+"\n                    </div>\n                </section>\n            </div>",T=document.createElement("div");T.className="rolldate-container",T.innerHTML=k,document.body.appendChild(T),r.scroll={};for(var w=function(t){var e=a[l[t]];r.scroll[l[t]]=new ut("#"+e,{disableMouse:!1,disableTouch:!1,wheel:{selectedIndex:0},mouseWheel:{speed:20,invert:!1,easeTime:300}});var n=r.scroll[l[t]],o=Wt("#"+e+" .active"),i=o?o.getAttribute("data-index"):Math.round(h.getMinutes()/s.minStep);n.wheelTo(i),n.on("scrollEnd",function(){var t=r.getSelectedDate().date;if(r.config.min&&new Date(t)-new Date(r.config.min)<0&&r.scrollToDateTime(r.config.min),r.config.max&&0<new Date(t)-new Date(r.config.max)&&r.scrollToDateTime(r.config.max),-1!=[a.YYYY,a.MM].indexOf(n.wrapper.id)&&r.scroll.YYYY&&r.scroll.MM&&r.scroll.DD){var e=r.getMonthlyDay(r.getSelected(r.scroll.YYYY),r.getSelected(r.scroll.MM)),o="";if(e!=Wt("#"+a.DD+" li",1).length){for(var i=1;i<=e;i++)o+='<li class="wheel-item">'+(i<10?"0"+i:i)+c.day+"</li>";Wt("#"+a.DD+" ul").innerHTML=o,r.scroll.DD.refresh()}}s.moveEnd&&s.moveEnd.call(r,n)})},b=0;b<e;b++)w(b);Wt(".rolldate-panel").className="rolldate-panel fadeIn"},scrollToDateTime:function(t){var e=new Date(t);this.scroll.YYYY&&this.scroll.YYYY.wheelTo(e.getFullYear()-this.config.beginYear),this.scroll.MM&&this.scroll.MM.wheelTo(e.getMonth()),this.scroll.DD&&this.scroll.DD.wheelTo(e.getDate()-1),this.scroll.hh&&this.scroll.hh.wheelTo(e.getHours()),this.scroll.mm&&this.scroll.mm.wheelTo(e.getMinutes()),this.scroll.ss&&this.scroll.ss.wheelTo(e.getSeconds())},tap:function(t,o){if("ontouchstart"in window&&"tap"==this.config.trigger){var i={},e=function(t){var e=t.touches[0];i.startX=e.pageX,i.startY=e.pageY,i.sTime=+new Date},n=function(t){var e=t.changedTouches[0];i.endX=e.pageX,i.endY=e.pageY,+new Date-i.sTime<300&&Math.abs(i.endX-i.startX)+Math.abs(i.endY-i.startY)<20&&(t.preventDefault(),o.call(this,t)),i={}};"function"==typeof o?(t.addEventListener("touchstart",e),t.addEventListener("touchend",n)):(t.removeEventListener("touchstart",e),t.removeEventListener("touchend",n))}else{var r=function(t){o.call(this,t)};"function"==typeof o?t.addEventListener("click",r):t.removeEventListener("click",r)}},show:function(){var t=this.config,e=void 0;if(t.el){if(!(e=Wt(t.el)).bindRolldate)return;"input"==e.nodeName.toLowerCase()&&e.blur()}Wt(".rolldate-container")||t.init&&!1===t.init.call(this)||(this.createUI(),this.event())},hide:function(t){var e=Wt(".rolldate-panel.fadeIn");e&&(e.className="rolldate-panel fadeOut",this.destroy(t))},event:function(){var s=this,t=Wt(".rolldate-mask"),e=Wt(".rolldate-cancel"),o=Wt(".rolldate-confirm");s.tap(t,function(){s.hide(1)}),s.tap(e,function(){s.hide(1)}),s.tap(o,function(){var t=s.config,e=void 0,o=s.getSelectedDate(),i=o.date,n=o.newDate;if(t.confirm){var r=t.confirm.call(s,i);if(!1===r)return!1;r&&(i=r)}t.el?("input"==(e=Wt(t.el)).nodeName.toLowerCase()?e.value=i:e.innerText=i,e.bindDate=n):s.bindDate=n,s.hide()})},getSelectedDate:function(){var t=this.config.format,e=new Date;for(var o in this.scroll){var i=this.getSelected(this.scroll[o]);t=t.replace(o,i),"YYYY"==o?e.setFullYear(i):"MM"==o?e.setMonth(i-1):"DD"==o?e.setDate(i):"hh"==o?e.setHours(i):"mm"==o?e.setMinutes(i):"ss"==o&&e.setSeconds(i)}return{date:t,newDate:e}},getMonthlyDay:function(t,e){var o=void 0;return 1==e||3==e||5==e||7==e||8==e||10==e||12==e?o=31:4==e||6==e||11==e||9==e?o=30:2==e&&(o=t%4!=0||t%100==0&&t%400!=0?28:29),o},destroy:function(t){var e=this,o=e.config;for(var i in e.scroll)e.scroll[i].destroy();t&&o.cancel&&o.cancel.call(e),e.tap(Wt(".rolldate-mask"),0),e.tap(Wt(".rolldate-cancel"),0),e.tap(Wt(".rolldate-confirm"),0),setTimeout(function(){var t=Wt(".rolldate-container");t&&document.body.removeChild(t),t=null},300)},getSelected:function(t){return Wt("#"+t.wrapper.id+" li",1)[t.getSelectedIndex()].innerText.replace(/\D/g,"")}},jt.version="3.1.3",jt});
